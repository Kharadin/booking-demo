{"ast":null,"code":"import _slicedToArray from\"/Users/dimetrius/Documents/BookingApp/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{createContext,useEffect,useReducer}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";var INITIAL_STATE={user:JSON.parse(localStorage.getItem(\"user\"))||null,loading:false,error:null};// this is by way of React Context API\nexport var AuthContext=/*#__PURE__*/createContext(INITIAL_STATE);var AuthReducer=function AuthReducer(state,action){switch(action.type){case\"LOGIN_START\":return{user:null,loading:true,error:null};case\"LOGIN_SUCCESS\":return{user:action.payload,loading:false,error:null};case\"LOGIN_FAILURE\":return{user:null,loading:false,error:action.payload};case\"LOGOUT\":return{user:null,loading:false,error:null};default:return state;}};export var AuthContextProvider=function AuthContextProvider(_ref){var children=_ref.children;var _useReducer=useReducer(AuthReducer,INITIAL_STATE),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];useEffect(function(){localStorage.setItem(\"user\",JSON.stringify(state.user));},[state.user]);return/*#__PURE__*/_jsx(AuthContext.Provider,{value:{user:state.user,loading:state.loading,error:state.error,dispatch:dispatch},children:children});};","map":{"version":3,"names":["createContext","useEffect","useReducer","INITIAL_STATE","user","JSON","parse","localStorage","getItem","loading","error","AuthContext","AuthReducer","state","action","type","payload","AuthContextProvider","children","dispatch","setItem","stringify"],"sources":["/Users/dimetrius/Documents/BookingApp/client/src/context/AuthContext.js"],"sourcesContent":["import { createContext, useEffect, useReducer } from \"react\"\n\nconst INITIAL_STATE = {\n   user: JSON.parse(localStorage.getItem(\"user\")) || null,\n   loading: false,\n   error: null,\n\n} \n// this is by way of React Context API\n\nexport const AuthContext = createContext(INITIAL_STATE) \n\nconst AuthReducer = (state, action) => {\n     switch (action.type) {\n          \n          case \"LOGIN_START\":\n               return {\n                    user: null,\n                    loading: true,\n                    error: null,\n               };\n          case \"LOGIN_SUCCESS\":\n               return {\n                    user: action.payload,\n                    loading: false,\n                    error: null,\n               };   \n          case \"LOGIN_FAILURE\":\n               return { \n                    user: null,\n                    loading: false,\n                    error: action.payload,\n               };      \n          case \"LOGOUT\":\n               return {\n                    user: null,\n                    loading: false,\n                    error: null,\n               };                       \n               default: \n                    return state;\n\n                    \n     }\n}\n\nexport const AuthContextProvider = ({children}) => {\n     const [state, dispatch] = useReducer(AuthReducer, INITIAL_STATE)\n\n     useEffect(()=> {\n          localStorage.setItem(\"user\", JSON.stringify(state.user))\n     }, [state.user])\n\n     return (\n          <AuthContext.Provider \n          value={{\n               user:  state.user,\n               loading: state.loading,\n               error: state.error,\n               dispatch,\n               }} \n          >\n               {children}\n          </AuthContext.Provider>\n     )\n\n};\n\n"],"mappings":"kIAAA,OAASA,aAAT,CAAwBC,SAAxB,CAAmCC,UAAnC,KAAqD,OAArD,C,2CAEA,GAAMC,cAAa,CAAG,CACnBC,IAAI,CAAEC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,GAA4C,IAD/B,CAEnBC,OAAO,CAAE,KAFU,CAGnBC,KAAK,CAAE,IAHY,CAAtB,CAMA;AAEA,MAAO,IAAMC,YAAW,cAAGX,aAAa,CAACG,aAAD,CAAjC,CAEP,GAAMS,YAAW,CAAG,QAAdA,YAAc,CAACC,KAAD,CAAQC,MAAR,CAAmB,CAClC,OAAQA,MAAM,CAACC,IAAf,EAEK,IAAK,aAAL,CACK,MAAO,CACFX,IAAI,CAAE,IADJ,CAEFK,OAAO,CAAE,IAFP,CAGFC,KAAK,CAAE,IAHL,CAAP,CAKL,IAAK,eAAL,CACK,MAAO,CACFN,IAAI,CAAEU,MAAM,CAACE,OADX,CAEFP,OAAO,CAAE,KAFP,CAGFC,KAAK,CAAE,IAHL,CAAP,CAKL,IAAK,eAAL,CACK,MAAO,CACFN,IAAI,CAAE,IADJ,CAEFK,OAAO,CAAE,KAFP,CAGFC,KAAK,CAAEI,MAAM,CAACE,OAHZ,CAAP,CAKL,IAAK,QAAL,CACK,MAAO,CACFZ,IAAI,CAAE,IADJ,CAEFK,OAAO,CAAE,KAFP,CAGFC,KAAK,CAAE,IAHL,CAAP,CAKA,QACK,MAAOG,MAAP,CA3Bf,CA+BJ,CAhCD,CAkCA,MAAO,IAAMI,oBAAmB,CAAG,QAAtBA,oBAAsB,MAAgB,IAAdC,SAAc,MAAdA,QAAc,CAC9C,gBAA0BhB,UAAU,CAACU,WAAD,CAAcT,aAAd,CAApC,4CAAOU,KAAP,iBAAcM,QAAd,iBAEAlB,SAAS,CAAC,UAAK,CACVM,YAAY,CAACa,OAAb,CAAqB,MAArB,CAA6Bf,IAAI,CAACgB,SAAL,CAAeR,KAAK,CAACT,IAArB,CAA7B,EACJ,CAFQ,CAEN,CAACS,KAAK,CAACT,IAAP,CAFM,CAAT,CAIA,mBACK,KAAC,WAAD,CAAa,QAAb,EACA,KAAK,CAAE,CACFA,IAAI,CAAGS,KAAK,CAACT,IADX,CAEFK,OAAO,CAAEI,KAAK,CAACJ,OAFb,CAGFC,KAAK,CAAEG,KAAK,CAACH,KAHX,CAIFS,QAAQ,CAARA,QAJE,CADP,UAQMD,QARN,EADL,CAaJ,CApBM"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/Users/dimetrius/Documents/BookingApp/client/src/pages/login/Login.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useContext, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Navbar from \"../../components/navbar/Navbar\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport \"./login.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const [credentials, setCredentials] = useState({\n    username: undefined,\n    password: undefined\n  });\n  const {\n    loading,\n    error,\n    dispatch\n  } = useContext(AuthContext); //user,\n\n  const navigate = useNavigate();\n\n  const handleChange = e => {\n    setCredentials(prev => ({ ...prev,\n      [e.target.id]: e.target.value\n    }));\n  };\n\n  const handleClick = async e => {\n    e.preventDefault();\n    dispatch({\n      type: \"LOGIN_START\"\n    });\n\n    try {\n      const res = await axios.post(\"https://booking1demo.herokuapp.com/api/auth/login\", credentials);\n      dispatch({\n        type: \"LOGIN_SUCCESS\",\n        payload: res.data.details\n      });\n      navigate(\"/\");\n    } catch (err) {\n      dispatch({\n        type: \"LOGIN_FAILURE\",\n        payload: err.response.data\n      });\n    }\n  }; // console.log(user)\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"lContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"username\",\n        id: \"username\",\n        onChange: handleChange,\n        className: \"lInput\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"password\",\n        id: \"password\",\n        onChange: handleChange,\n        className: \"lInput\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: loading,\n        onClick: handleClick,\n        className: \"lButton\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this), error && /*#__PURE__*/_jsxDEV(\"span\", {\n        children: error.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 8\n  }, this);\n};\n\n_s(Login, \"DnS8V3GkAwQKSkv1po5V9N9xcE8=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["axios","useContext","useState","useNavigate","Navbar","AuthContext","Login","credentials","setCredentials","username","undefined","password","loading","error","dispatch","navigate","handleChange","e","prev","target","id","value","handleClick","preventDefault","type","res","post","payload","data","details","err","response","message"],"sources":["/Users/dimetrius/Documents/BookingApp/client/src/pages/login/Login.jsx"],"sourcesContent":["import axios from \"axios\"\nimport { useContext, useState } from \"react\"\nimport { useNavigate } from \"react-router-dom\"\nimport Navbar from \"../../components/navbar/Navbar\"\nimport { AuthContext } from \"../../context/AuthContext\"\nimport \"./login.css\"\n\nconst Login = () => {\n     const [credentials, setCredentials] = useState({\n          username: undefined,\n          password: undefined,\n     })\n\n     const { loading, error, dispatch} = useContext(AuthContext)\n     //user,\n\n     const navigate = useNavigate()\n\n\n     const handleChange = (e)=> {\n          setCredentials(prev=>({...prev, [e.target.id]:e.target.value }))\n     }\n\n     const handleClick = async e =>{\n          e.preventDefault()\n          dispatch ({type: \"LOGIN_START\"})\n          try{\n               const res = await axios.post (\"https://booking1demo.herokuapp.com/api/auth/login\", credentials)\n               dispatch({type: \"LOGIN_SUCCESS\", payload: res.data.details})\n               navigate(\"/\")\n          } catch (err) {\n               dispatch({type: \"LOGIN_FAILURE\", payload:err.response.data})\n          }\n     }\n     // console.log(user)\n\n  return (\n       <div className=\"login\">\n            \n      <div className=\"lContainer\">\n          <input type=\"text\" placeholder= \"username\" id='username' onChange={handleChange} className=\"lInput\" />\n          <input type=\"password\" placeholder=\"password\"  id='password' onChange={handleChange} className=\"lInput\" />\n\n          <button disabled={loading} onClick={handleClick} className=\"lButton\">Login</button>\n          {error && <span>{error.message}</span>}\n      </div>\n\n    </div>\n  )\n}\n\nexport default Login\n "],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,EAAqBC,QAArB,QAAqC,OAArC;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,SAASC,WAAT,QAA4B,2BAA5B;AACA,OAAO,aAAP;;;AAEA,MAAMC,KAAK,GAAG,MAAM;EAAA;;EACf,MAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCN,QAAQ,CAAC;IAC1CO,QAAQ,EAAEC,SADgC;IAE1CC,QAAQ,EAAED;EAFgC,CAAD,CAA9C;EAKA,MAAM;IAAEE,OAAF;IAAWC,KAAX;IAAkBC;EAAlB,IAA8Bb,UAAU,CAACI,WAAD,CAA9C,CANe,CAOf;;EAEA,MAAMU,QAAQ,GAAGZ,WAAW,EAA5B;;EAGA,MAAMa,YAAY,GAAIC,CAAD,IAAM;IACtBT,cAAc,CAACU,IAAI,KAAG,EAAC,GAAGA,IAAJ;MAAU,CAACD,CAAC,CAACE,MAAF,CAASC,EAAV,GAAcH,CAAC,CAACE,MAAF,CAASE;IAAjC,CAAH,CAAL,CAAd;EACJ,CAFD;;EAIA,MAAMC,WAAW,GAAG,MAAML,CAAN,IAAU;IACzBA,CAAC,CAACM,cAAF;IACAT,QAAQ,CAAE;MAACU,IAAI,EAAE;IAAP,CAAF,CAAR;;IACA,IAAG;MACE,MAAMC,GAAG,GAAG,MAAMzB,KAAK,CAAC0B,IAAN,CAAY,mDAAZ,EAAiEnB,WAAjE,CAAlB;MACAO,QAAQ,CAAC;QAACU,IAAI,EAAE,eAAP;QAAwBG,OAAO,EAAEF,GAAG,CAACG,IAAJ,CAASC;MAA1C,CAAD,CAAR;MACAd,QAAQ,CAAC,GAAD,CAAR;IACJ,CAJD,CAIE,OAAOe,GAAP,EAAY;MACThB,QAAQ,CAAC;QAACU,IAAI,EAAE,eAAP;QAAwBG,OAAO,EAACG,GAAG,CAACC,QAAJ,CAAaH;MAA7C,CAAD,CAAR;IACJ;EACL,CAVD,CAhBe,CA2Bf;;;EAEH,oBACK;IAAK,SAAS,EAAC,OAAf;IAAA,uBAED;MAAK,SAAS,EAAC,YAAf;MAAA,wBACI;QAAO,IAAI,EAAC,MAAZ;QAAmB,WAAW,EAAE,UAAhC;QAA2C,EAAE,EAAC,UAA9C;QAAyD,QAAQ,EAAEZ,YAAnE;QAAiF,SAAS,EAAC;MAA3F;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI;QAAO,IAAI,EAAC,UAAZ;QAAuB,WAAW,EAAC,UAAnC;QAA+C,EAAE,EAAC,UAAlD;QAA6D,QAAQ,EAAEA,YAAvE;QAAqF,SAAS,EAAC;MAA/F;QAAA;QAAA;QAAA;MAAA,QAFJ,eAII;QAAQ,QAAQ,EAAEJ,OAAlB;QAA2B,OAAO,EAAEU,WAApC;QAAiD,SAAS,EAAC,SAA3D;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAJJ,EAKKT,KAAK,iBAAI;QAAA,UAAOA,KAAK,CAACmB;MAAb;QAAA;QAAA;QAAA;MAAA,QALd;IAAA;MAAA;MAAA;MAAA;IAAA;EAFC;IAAA;IAAA;IAAA;EAAA,QADL;AAaD,CA1CD;;GAAM1B,K;UASgBH,W;;;KAThBG,K;AA4CN,eAAeA,KAAf"},"metadata":{},"sourceType":"module"}